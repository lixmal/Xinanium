package main

import "io/ioutil"
import "os"
import "encoding/binary"


const (
    MAPHEADERLENGTH = 1024
    MAPTITLELENGTH = 256
    MAPHEIGHT      uint64 = 40
    MAPWIDTH       uint64 = 40
    SERVERVERSION  uint32 =  1000100
)
func main() {
    mapdata := make([]byte, 0, MAPHEADERLENGTH + MAPHEIGHT * MAPWIDTH)


    header := make([]byte, 0, MAPHEADERLENGTH)
    title := make([]byte, MAPTITLELENGTH)
    copy(title, "this is a test map")
    copy(header, title)
    buf := make([]byte, 8)
    binary.PutUvarint(buf, MAPHEIGHT)
    header = append(header, buf...)
    buf = make([]byte, 8)
    binary.PutUvarint(buf, MAPWIDTH)
    header = append(header, buf...)
    tiles := make([]byte, MAPHEIGHT * MAPWIDTH)

    mapdata = append(mapdata, header...)
    mapdata = append(mapdata, tiles...)

    ary :=  []byte("asdfghjklo1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111987654321")
    ioutil.WriteFile("resources/maps/test.dat", ary, os.FileMode(0664))
}
